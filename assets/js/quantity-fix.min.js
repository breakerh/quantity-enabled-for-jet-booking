!function(){const e=jQuery(document).find(".jet-booking-form");if(!e.length)return;const t=e.find(".single_add_to_cart_button"),o=e.find(".quantity input.qty");window.JetPlugins.hooks.addFilter("jet-booking.calendar.config","jet-booking",(e=>({...e,stickyMonths:!0}))),jQuery(document).on("jet-booking/init-calendar",(()=>{jQuery(document).unbind("change.JetBookingProduct"),jQuery(document).unbind("click.JetWooBuilder"),jQuery(document).on("change.JetBookingProduct",(function(a){let n=a.target;"jet_abaf_field"!==n?.id&&document.querySelector("#jet_abaf_field").value.length<1||("jet_abaf_field"!==n.id&&(n=e.find("#jet_abaf_field")[0]),t.removeClass("disabled").prop("disabled",!1),jQuery.ajax({url:ElementorProFrontendConfig.ajaxurl,type:"POST",dataType:"json",data:{action:"jet_booking_product_set_total_price",total:JetBooking.getApartmentPrice(jQuery(n))*o.val()}}).done((function(e){jQuery(".jet-abaf-product-total").html(e.data.html)})).fail((function(e,t,o){alert(o)})))})),o.on("change",(e=>{const t=document.querySelector("#jet_abaf_field").value;if(window.jetBookingState.bookingCalendars[1].data("dateRangePicker").redraw(),t?.length>1){const[e,o]=t.split(" - ");window.jetBookingState.bookingCalendars[1].data("dateRangePicker").setStart(e.split("-").reverse().join("-")),window.jetBookingState.bookingCalendars[1].data("dateRangePicker").setEnd(o.split("-").reverse().join("-"))}})),t.on("click.JetWooBuilder",(function(o){void 0===t.attr("disabled")&&o.preventDefault(),o.preventDefault();const a=e.closest("form").serialize(),n=t.val();t.addClass("loading"),jQuery.ajax({url:window.jetWooBuilderData.ajax_url,method:"POST",async:!1,data:"action=jet_booking_add_cart_single_product&add-to-cart="+n+"&"+a,success:function(e){t.addClass("added").removeClass("loading"),e&&(jQuery(document.body).trigger("wc_fragment_refresh"),jQuery(document.body).trigger("added_to_cart",[e.fragments,e.cart_hash,t]),e.fragments?.notices_html&&jQuery(".woocommerce-notices-wrapper").html(e.fragments?.notices_html))}})}))}))}();
